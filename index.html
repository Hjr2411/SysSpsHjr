<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Teste Firebase ‚Ä¢ Realtime Database</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<h2>üî• Teste Firebase Realtime Database</h2>
<p>Abra o console do navegador (F12) para ver os logs</p>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
  import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-database.js";

  (async () => {
    console.clear();
    console.log("üöÄ In√≠cio do teste Firebase");

    const firebaseConfig = {
      apiKey: "AIzaSyAeCrURSs0TBXlYF3TKLi4q98VwrGaKe_Q",
      authDomain: "spsch-849e5.firebaseapp.com",
      databaseURL: "https://spsch-849e5-default-rtdb.firebaseio.com",
      projectId: "spsch-849e5",
      storageBucket: "spsch-849e5.firebasestorage.app",
      messagingSenderId: "698967090558",
      appId: "1:698967090558:web:978781fd27b86c36203f2f"
    };

    console.log("1Ô∏è‚É£ Inicializando Firebase...");
    const app = initializeApp(firebaseConfig);

    console.log("2Ô∏è‚É£ Conectando ao Realtime Database...");
    const db = getDatabase(app);

    // üî¥ MUDE SOMENTE SE O CAMINHO NO FIREBASE FOR DIFERENTE
    const DB_PATH = "app/chamados";

    console.log("3Ô∏è‚É£ Lendo caminho:", DB_PATH);
    const chamadosRef = ref(db, DB_PATH);

    try {
      const snapshot = await get(chamadosRef);

      if (snapshot.exists()) {
        console.log("‚úÖ SUCESSO ‚Äî DADOS RECEBIDOS:");
        console.table(snapshot.val());
      } else {
        console.warn("‚ö†Ô∏è O caminho existe, mas n√£o possui dados:", DB_PATH);
      }

    } catch (error) {
      console.error("‚ùå ERRO AO ACESSAR FIREBASE");
      console.error("C√≥digo:", error.code);
      console.error("Mensagem:", error.message);
    }

    console.log("üèÅ Fim do teste Firebase");
  })();
</script>

</body>
</html>
